<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Hexo Theme Keep"><meta name="description" content="fighting"><meta name="author" content="EasyBoy"><title>时间序列特征工程 | EasyBoy</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/cell-16x16-next.png"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"easyboy-blog.com",root:"/",language:"zh-CN",path:"search.xml"},KEEP.theme_config={toc:{enable:!0,number:!1,expand_all:!0,init_open:!0},style:{primary_color:"#0066CC",avatar:"/images/avatar.jpeg",favicon:"/images/cell-16x16-next.png",article_img_align:"left",left_side_width:"260px",content_max_width:"920px",hover:{shadow:!1,scale:!1},first_screen:{enable:!0,background_img:"https://cdn.jsdelivr.net/gh/fight-ing-go/image_repository@master/wallpaper_img/wallhaven-k7g117_1920x1080.9rq9no91ra0.jpg",description:"Welcome to Easyboy's Blog"},scroll:{progress_bar:{enable:!1},percent:{enable:!1}}},local_search:{enable:!0,preload:!0},code_copy:{enable:!0,style:"default"},pjax:{enable:!0},lazyload:{enable:!0},version:"3.4.5"},KEEP.language_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"}</script><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="home-laser" type="application/atom+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span> <span class="pjax-progress-icon"><i class="fas fa-circle-notch fa-spin"></i></span></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="/images/cell-32x32-next.png"> </a><a class="logo-title" href="/">EasyBoy</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">首页</a></li><li class="menu-item"><a href="/archives">归档</a></li><li class="menu-item"><a href="/categories">分类</a></li><li class="menu-item"><a href="/tags">标签</a></li><li class="menu-item"><a href="/about">关于</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">首页</a></li><li class="drawer-menu-item flex-center"><a href="/archives">归档</a></li><li class="drawer-menu-item flex-center"><a href="/categories">分类</a></li><li class="drawer-menu-item flex-center"><a href="/tags">标签</a></li><li class="drawer-menu-item flex-center"><a href="/about">关于</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">时间序列特征工程</span></div><div class="article-header"><div class="avatar"><img src="/images/avatar.jpeg"></div><div class="info"><div class="author"><span class="name">EasyBoy</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fas fa-edit"></i>&nbsp; <span class="pc">2022-04-23 14:50:40</span> <span class="mobile">2022-04-23 14:50</span><span class="pc">更新于：2022-04-23</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>&nbsp;</li><li>| <a href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/">时间序列</a>&nbsp;</li><li>| <a href="/tags/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/">特征工程</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>2.4k 字</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><p>完成数据清洗之后，需要提取有意义的样本特征输入模型中训练，目的是为了更高效的利用算法。提取特征的步骤叫特征工程，分为三步：特征提取、特征预处理、特征降维。下面将针对时序序列的特征工程进行讲述。</p><span id="more"></span><h1 id="1-特征提取"><a href="#1-特征提取" class="headerlink" title="1. 特征提取"></a>1. 特征提取</h1><p>提取时间序列的特征可以从三方面着手。</p><h2 id="1-1-从时间中提取特征"><a href="#1-1-从时间中提取特征" class="headerlink" title="1.1 从时间中提取特征"></a>1.1 从时间中提取特征</h2><p>每条样本数据对应的时间数据包含很多信息，可以从中发现时间上的一些规律特征。<br>提取时间特征可以对时间进行拆解，如2022.04.23 15:08:03，可以将其中年月日时分秒分别拆解为一列，或者以某个时间点为起点，计算经过的时间，如一天中的第几分钟，一年中的第几天或第几周等等。对于受季节、节假日影响的数据，也可以判断是否月初、月末、周末、公共假期、营业时间等等。<br><strong>举例程序实现：</strong></p><pre class="language-python"><code class="language-python">df <span class="token operator">=</span> Month_data_1T<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span>
df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">.</span>index
<span class="token comment" spellcheck="true"># 年份</span>
df<span class="token punctuation">[</span><span class="token string">'年'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>year<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 月份</span>
df<span class="token punctuation">[</span><span class="token string">'月'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>month<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 日</span>
df<span class="token punctuation">[</span><span class="token string">'日'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>day<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 小时</span>
df<span class="token punctuation">[</span><span class="token string">'时'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>hour<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 分钟</span>
df<span class="token punctuation">[</span><span class="token string">'分'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>minute<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 一天中的第几分钟</span>
df<span class="token punctuation">[</span><span class="token string">'一天中的第几分钟'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>minute <span class="token operator">+</span> x<span class="token punctuation">.</span>hour<span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 星期几；</span>
df<span class="token punctuation">[</span><span class="token string">'星期几'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>dayofweek<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 一年中的第几天</span>
df<span class="token punctuation">[</span><span class="token string">'一年中的第几天'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>dayofyear<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># # 一年中的第几周</span>
<span class="token comment" spellcheck="true"># df['一年中的第几周']=df['时间'].apply(lambda x: x.week)</span>
<span class="token comment" spellcheck="true"># 一天中哪个时间段：凌晨、早晨、上午、中午、下午、傍晚、晚上、深夜；</span>
period_dict <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token number">23</span><span class="token punctuation">:</span> <span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">0x00</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">0x01</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0x01</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">0x01</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">:</span> <span class="token number">0x02</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">:</span> <span class="token number">0x02</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">:</span> <span class="token number">0x02</span><span class="token punctuation">,</span>
    <span class="token number">8</span><span class="token punctuation">:</span> <span class="token number">0x03</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">:</span> <span class="token number">0x03</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token number">0x03</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">:</span> <span class="token number">0x03</span><span class="token punctuation">,</span>
    <span class="token number">12</span><span class="token punctuation">:</span> <span class="token number">0x04</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">:</span> <span class="token number">0x04</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">:</span> <span class="token number">0x04</span><span class="token punctuation">,</span> 
    <span class="token number">15</span><span class="token punctuation">:</span> <span class="token number">0x05</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">:</span> <span class="token number">0x05</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">:</span> <span class="token number">0x05</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">:</span> <span class="token number">0x05</span><span class="token punctuation">,</span>
    <span class="token number">19</span><span class="token punctuation">:</span> <span class="token number">0x07</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">:</span> <span class="token number">0x07</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">:</span> <span class="token number">0x07</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">:</span> <span class="token number">0x07</span><span class="token punctuation">,</span>
<span class="token comment" spellcheck="true">#     23: '深夜', 0: '深夜', 1: '深夜',</span>
<span class="token comment" spellcheck="true">#     2: '凌晨', 3: '凌晨', 4: '凌晨',</span>
<span class="token comment" spellcheck="true">#     5: '早晨', 6: '早晨', 7: '早晨',</span>
<span class="token comment" spellcheck="true">#     8: '上午', 9: '上午', 10: '上午', 11: '上午',</span>
<span class="token comment" spellcheck="true">#     12: '中午', 13: '中午',14: '中午',</span>
<span class="token comment" spellcheck="true">#     15: '下午', 16: '下午', 17: '下午',18: '下午',</span>
<span class="token comment" spellcheck="true">#     19: '晚上', 20: '晚上', 21: '晚上', 22: '晚上',</span>
<span class="token punctuation">}</span>
df<span class="token punctuation">[</span><span class="token string">'时间段'</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'时'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>period_dict<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># # 一年中的哪个季度</span>
<span class="token comment" spellcheck="true"># season_dict = {</span>
<span class="token comment" spellcheck="true">#     1: '春季', 2: '春季', 3: '春季',</span>
<span class="token comment" spellcheck="true">#     4: '夏季', 5: '夏季', 6: '夏季',</span>
<span class="token comment" spellcheck="true">#     7: '秋季', 8: '秋季', 9: '秋季',</span>
<span class="token comment" spellcheck="true">#     10: '冬季', 11: '冬季', 12: '冬季',</span>
<span class="token comment" spellcheck="true"># }</span>
<span class="token comment" spellcheck="true"># df['季节']=df['月'].map(season_dict)</span>
<span class="token comment" spellcheck="true"># # 是否闰年</span>
<span class="token comment" spellcheck="true"># df['是否闰年'] = df['时间'].apply(lambda x: x.is_leap_year)</span>
<span class="token comment" spellcheck="true"># 是否月初</span>
df<span class="token punctuation">[</span><span class="token string">'是否月初'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>is_month_start<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 是否月末</span>
df<span class="token punctuation">[</span><span class="token string">'是否月末'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>is_month_end<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 是否季节初</span>
<span class="token comment" spellcheck="true"># df['是否季节初'] = df['时间'].apply(lambda x: x.is_quarter_start)</span>
<span class="token comment" spellcheck="true"># 是否季节末</span>
<span class="token comment" spellcheck="true"># df['是否季节末'] = df['时间'].apply(lambda x: x.is_quarter_end)</span>
<span class="token comment" spellcheck="true"># 是否年初</span>
<span class="token comment" spellcheck="true"># df['是否年初'] = df['时间'].apply(lambda x: x.is_year_start)</span>
<span class="token comment" spellcheck="true"># 是否年尾</span>
<span class="token comment" spellcheck="true"># df['是否年尾'] = df['时间'].apply(lambda x: x.is_year_end)</span>
<span class="token comment" spellcheck="true"># 是否周末</span>
df<span class="token punctuation">[</span><span class="token string">'是否周末'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'时间'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token keyword">if</span> x<span class="token punctuation">.</span>dayofweek <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token keyword">else</span> <span class="token boolean">False</span><span class="token punctuation">)</span>
df
</code></pre><p>结果如下图所示：</p><div align="center"><img src="https://cdn.jsdelivr.net/gh/fight-ing-go/image_repository@master/202204/Characteristic-Engineering-of-Time-Series/时间特征.407xag8uznw0.jpg"></div><h2 id="1-2-从时序规律中提取特征"><a href="#1-2-从时序规律中提取特征" class="headerlink" title="1.2 从时序规律中提取特征"></a>1.2 从时序规律中提取特征</h2><p>在数据清洗后的数据分析中，通常会分析时间序列的一些特性，如周期性、时间序列分解、历史数据，可以把这些分析出来的数据用作特征。<br>**举例程序实现： **</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> statsmodels<span class="token punctuation">.</span>tsa<span class="token punctuation">.</span>seasonal <span class="token keyword">import</span> seasonal_decompose
<span class="token comment" spellcheck="true"># 数据含有两个周期77和1440</span>
<span class="token comment" spellcheck="true"># 偏移6min差分</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_-5S"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 偏移77min差分，一小周期</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_-1period"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">77</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 偏移两小周期</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_-2period"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">77</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 偏移1天，一大周期</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_-1day"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">1440</span><span class="token punctuation">)</span>
decompose_result <span class="token operator">=</span> seasonal_decompose<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> model<span class="token operator">=</span><span class="token string">"additive"</span><span class="token punctuation">,</span> period<span class="token operator">=</span><span class="token number">77</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 分离77周期分离</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_77seasonal"</span><span class="token punctuation">]</span> <span class="token operator">=</span> decompose_result<span class="token punctuation">.</span>seasonal
decompose_result <span class="token operator">=</span> seasonal_decompose<span class="token punctuation">(</span>decompose_result<span class="token punctuation">.</span>seasonal<span class="token punctuation">,</span> model<span class="token operator">=</span><span class="token string">"additive"</span><span class="token punctuation">,</span> period<span class="token operator">=</span><span class="token number">1440</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 分离1440周期分量</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_1440seasonal"</span><span class="token punctuation">]</span> <span class="token operator">=</span> decompose_result<span class="token punctuation">.</span>seasonal
<span class="token comment" spellcheck="true"># 趋势分量</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_trend"</span><span class="token punctuation">]</span> <span class="token operator">=</span> decompose_result<span class="token punctuation">.</span>trend
<span class="token comment" spellcheck="true"># 残差分量</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_resid"</span><span class="token punctuation">]</span> <span class="token operator">=</span> decompose_result<span class="token punctuation">.</span>resid
df
</code></pre><p><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/fight-ing-go/image_repository@master/202204/Characteristic-Engineering-of-Time-Series/%E6%97%B6%E5%BA%8F%E8%A7%84%E5%BE%8B%E7%89%B9%E5%BE%81.5n1vvk2y3d40.jpg" alt="时序规律特征"></p><h2 id="1-3-从统计窗口提取特征"><a href="#1-3-从统计窗口提取特征" class="headerlink" title="1.3 从统计窗口提取特征"></a>1.3 从统计窗口提取特征</h2><p>要想提取时间序列的统计特征，需要按固定时间长度把一条时间序列划分为n多条子序列，然后对这些子序列分别构造统计特征。<br>**举例程序实现： **</p><pre class="language-python"><code class="language-python"><span class="token comment" spellcheck="true"># sum() 值的总和</span>
<span class="token comment" spellcheck="true"># mean() 均值</span>
<span class="token comment" spellcheck="true"># median() 值的算术中值</span>
<span class="token comment" spellcheck="true"># min() 最小值</span>
<span class="token comment" spellcheck="true"># max() 最大</span>
<span class="token comment" spellcheck="true"># std() 贝塞尔修正样本标准差(均方差)</span>
<span class="token comment" spellcheck="true"># var() 无偏方差</span>
<span class="token comment" spellcheck="true"># cov() 无偏协方差（二元）</span>
<span class="token comment" spellcheck="true"># corr() 相关（二进制）</span>
<span class="token comment" spellcheck="true"># variation_v = std_v/mean_v 离散系数</span>
<span class="token comment" spellcheck="true"># polyfit 线性拟合，求斜率</span>

<span class="token comment" spellcheck="true">#使用rolling滚动窗口，窗口大小为7</span>
roll_data <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span>window<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_mean"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_median"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>median<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_min"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>min<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_max"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>max<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_std"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_var"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>var<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_cov"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>cov<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_corr"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_variation"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"Hu0_std"</span><span class="token punctuation">]</span><span class="token operator">/</span>df<span class="token punctuation">[</span><span class="token string">"Hu0_mean"</span><span class="token punctuation">]</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_sum"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_sum_diff2"</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"Hu0_sum"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>df<span class="token punctuation">[</span><span class="token string">"Hu0_sum"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># df["Hu0_autocorr1"] = df["Hu_0"].autocorr(1)</span>
<span class="token comment" spellcheck="true"># df["Hu0_autocorr2"] = df["Hu_0"].autocorr(2)</span>
x <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
z <span class="token operator">=</span> <span class="token keyword">lambda</span> y <span class="token punctuation">:</span> np<span class="token punctuation">.</span>polyfit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_polyfit"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data<span class="token punctuation">.</span>apply<span class="token punctuation">(</span>z<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 一阶差分的均方差</span>
roll_data_diff <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'Hu_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>diff<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span>window<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">"Hu0_diff_std"</span><span class="token punctuation">]</span> <span class="token operator">=</span> roll_data_diff<span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span>
df
</code></pre><p><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/fight-ing-go/image_repository@master/202204/Characteristic-Engineering-of-Time-Series/%E7%BB%9F%E8%AE%A1%E7%89%B9%E5%BE%81.6ahmg2mw8s00.jpg" alt="统计特征"></p><h1 id="2-特征预处理"><a href="#2-特征预处理" class="headerlink" title="2. 特征预处理"></a>2. 特征预处理</h1><p>特征预处理是对提取出来的特征无量纲化，目的是让特征处于同等地位，避免特征之间差异太大而影响模型学习效果。常用的处理手段有两种：归一化和标准化。归一化是将原数据映射到[m,n]（通常为[0,1]）内，但当数据异常点较多时，容易影响归一化结果，适合小样本。标准化是将数据变换为均值为0，标准差为1的范围内。而平均值和标准差受异常值影响较小，能克服归一化的缺点。此处使用标准化进行举例。</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> StandardScaler
scaler <span class="token operator">=</span> StandardScaler<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#因为上式返回结果为series，这里将其转换为表格形式。</span>
df_Standar <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>scaler<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span>df<span class="token punctuation">.</span>index<span class="token punctuation">,</span> columns<span class="token operator">=</span>df<span class="token punctuation">.</span>columns<span class="token punctuation">)</span>
df_Standar
</code></pre><h1 id="3-特征降维"><a href="#3-特征降维" class="headerlink" title="3. 特征降维"></a>3. 特征降维</h1><p>特征降维指的是对提取出来的特征进行过滤筛选，减少特征维度。目的是为了降低学习任务的难度和减轻维度灾难问题。<br>通常，从两个方面考虑来选择特征：</p><ol><li>特征是否发散<br>如果一个特征不发散，例如方差接近于0，也就是说样本在这个特征上基本上没有差异，这个特征对于样本的区分并没有什么用。</li><li>特征与目标的相关性<br>与目标相关性高的特征，应当优先选择。<br>区别：特征与特征之间相关性高的，应当优先去除掉其中一个特征，因为它们是替代品。<br>特征选择方法有：Filter过滤法、Wrapper包装法和Embedded嵌入法。其中第二三种方法都适合于有监督学习，需要与目标值关联进行特征选择。因为原数据是为异常检测，没有标签，属于无监督学习，这里仅举例过滤法。<br>通过筛选小方差和强相关特征来达到过滤特征的目的。<pre class="language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 特征过滤 filter</span>
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>feature_selection <span class="token keyword">import</span> VarianceThreshold  
X_train_columns <span class="token operator">=</span> df_Standar<span class="token punctuation">.</span>columns
<span class="token comment" spellcheck="true">#方差过滤，返回方差大于设定阈值的列</span>
selector <span class="token operator">=</span> VarianceThreshold<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
X <span class="token operator">=</span> selector<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>df_Standar<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#因为上式返回结果为series，这里将其转换为表格形式。</span>
<span class="token comment" spellcheck="true">#X_train_columns[selector.get_support(indices=True)]结果为筛选后的列名</span>
df_filter <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>X<span class="token punctuation">,</span>index<span class="token operator">=</span>df_concat<span class="token punctuation">.</span>index<span class="token punctuation">,</span> columns<span class="token operator">=</span>X_train_columns<span class="token punctuation">[</span>selector<span class="token punctuation">.</span>get_support<span class="token punctuation">(</span>indices<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df_filter
</code></pre><pre class="language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 特征过滤 相关系数corr</span>
<span class="token comment" spellcheck="true"># 剔除相关性系数高于threshold的corr_drop</span>
corr_df <span class="token operator">=</span> df_filter<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span>
threshold <span class="token operator">=</span> <span class="token number">0.9</span>
<span class="token comment" spellcheck="true">#k=1,返回上三角矩阵</span>
upper <span class="token operator">=</span> corr_df<span class="token punctuation">.</span>where<span class="token punctuation">(</span>np<span class="token punctuation">.</span>triu<span class="token punctuation">(</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>corr_df<span class="token punctuation">.</span>shape<span class="token punctuation">)</span><span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>bool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#返回相关系数大于阈值的列名</span>
corr_drop <span class="token operator">=</span> <span class="token punctuation">[</span>column <span class="token keyword">for</span> column <span class="token keyword">in</span> upper<span class="token punctuation">.</span>columns <span class="token keyword">if</span> any<span class="token punctuation">(</span>upper<span class="token punctuation">[</span>column<span class="token punctuation">]</span><span class="token punctuation">.</span>abs<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> threshold<span class="token punctuation">)</span><span class="token punctuation">]</span>
df_filter <span class="token operator">=</span> df_filter<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>corr_drop<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
df_filter
</code></pre><h1 id="4-Tsfresh特征提取工具"><a href="#4-Tsfresh特征提取工具" class="headerlink" title="4. Tsfresh特征提取工具"></a>4. Tsfresh特征提取工具</h1>最后讲一个用于时间序列特征提取的工具<a class="link" target="_blank" rel="noopener" href="https://tsfresh.readthedocs.io/en/latest/index.html">tsfresh<i class="fas fa-external-link-alt"></i></a><br>工具介绍就不讲了，直接说一下用法。对于一条长时间序列，要想利用tsfresh工具提取特征，还需要先将其化为一个个子窗口序列。该工具包内就包含这个功能。原表结构为：<br><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/fight-ing-go/image_repository@master/202204/Characteristic-Engineering-of-Time-Series/%E6%BB%9A%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%8E%9F%E8%A1%A8%E7%BB%93%E6%9E%84.119hmuad0jy8.jpg" alt="滚动窗口原表结构"></li></ol><p>其中id,time列是在原表的基础上后加上的，目的是为了方便使用API接口函数。id代表组别，time代表时间顺序。然后使用API转换为窗口子序列。</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> tsfresh<span class="token punctuation">.</span>utilities<span class="token punctuation">.</span>dataframe_functions <span class="token keyword">import</span> roll_time_series
<span class="token comment" spellcheck="true"># 滚动窗口</span>
<span class="token comment" spellcheck="true">#max_timeshift:最大偏移量，min_timeshift：最小偏移量，rolling_direction：每次移动的大小和方向。column_sort按什么排序，默认已从小到大排好</span>
df_rolled <span class="token operator">=</span> roll_time_series<span class="token punctuation">(</span>one_data<span class="token punctuation">,</span> column_id<span class="token operator">=</span><span class="token string">"id"</span><span class="token punctuation">,</span> column_sort<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span>max_timeshift <span class="token operator">=</span> <span class="token number">6</span> <span class="token punctuation">,</span>min_timeshift <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span>rolling_direction<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
df_rolled
</code></pre><p><img lazyload="" src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/fight-ing-go/image_repository@master/202204/Characteristic-Engineering-of-Time-Series/tsfresh%E7%AA%97%E5%8F%A3%E5%BA%8F%E5%88%97.4f2dy005fr40.jpg" alt="tsfresh窗口序列"><br>转化后的id是原id与原时间的组合，也为后面特征提取中的组别。（1，1）代表1号组别的第一个时间点组成的子序列，（1，43316）代表1号组别第43316个点组成的子序列。然后再进行特征提取.</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> tsfresh <span class="token keyword">import</span> extract_features
<span class="token comment" spellcheck="true"># 特征提取,使用drop先删去多余的列，column_id为组别</span>
df_features <span class="token operator">=</span> extract_features<span class="token punctuation">(</span>df_rolled<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"date"</span><span class="token punctuation">,</span><span class="token string">"time"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> column_id<span class="token operator">=</span><span class="token string">"id"</span><span class="token punctuation">)</span>
df_features
</code></pre><p>以上即为tsfresh特征提取的步骤，其内置的特征过滤函数因需要目标值而不适用我的数据，所以后续特征降维仍使用上述过滤法进行选择。</p><blockquote><p>参考网站：<br><a class="link" target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1536537">特征工程系列：时间特征构造以及时间序列特征构造<i class="fas fa-external-link-alt"></i></a><br><a class="link" target="_blank" rel="noopener" href="https://www.heywhale.com/mw/project/5d86eced8499bc002c108cc8">特征工程理论与代码实现特征工程理论与代码实现<i class="fas fa-external-link-alt"></i></a></p></blockquote></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul><li>本文标题：时间序列特征工程</li><li>本文作者：EasyBoy</li><li>创建时间：2022-04-23 14:50:40</li><li>本文链接：https://easyboy-blog.com/characteristic-engineering-of-time-series.html</li><li>版权声明：本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">#机器学习</a>&nbsp;</li><li class="tag-item"><a href="/tags/%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/">#时间序列</a>&nbsp;</li><li class="tag-item"><a href="/tags/%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/">#特征工程</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/installing-mariadb-with-bat-in-windows-7-environment.html"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">Windows7环境bat安装mariadb</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/centos7-an-zhuang-qt-ji-huan-jing-pei-zhi.html"><span class="title flex-center"><span class="post-nav-title-item">centos7安装QT及环境配置</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comment-container"><div class="comments-container"><div id="comment-anchor"></div><div class="comment-area-title"><i class="fas fa-comments">&nbsp;评论</i></div><div class="valine-container"><script data-pjax src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><div id="vcomments"></div><script data-pjax>function loadValine(){function e(e){switch(e){case"en":return"Author";case"zh-CN":return"博主";default:return"Master"}}new Valine({el:"#vcomments",appId:"TSl5PlExO22wiwkA3e15kGvM-gzGzoHsz",appKey:"36AERjunsq15rL0xcz3ovKbG",meta:["nick","mail","link"],avatar:"wavatar",enableQQ:!0,placeholder:"😜 尽情吐槽吧~",lang:"zh-CN".toLowerCase()});const a=setInterval(()=>{const n=document.querySelectorAll("#vcomments .vcards .vcard");if(n.length>0){let t="EasyBoy";if(t)for(let a of n){const n=a.querySelector(".vhead .vnick"),l=n.innerHTML;l===t&&(n.innerHTML=`${l} <span class="author">${e(KEEP.hexo_config.language)}</span>`)}clearInterval(a)}else clearInterval(a)},2e3)}{const e=setTimeout(()=>{loadValine(),clearTimeout(e)},1e3)}</script></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2020</span> - 2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">EasyBoy</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv">访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; </span><span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span></div><div class="theme-info info-item">由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item page-aside-toggle"><i class="fas fa-outdent"></i></li><li class="go-comment"><i class="fas fa-comment"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-expand-width flex-center"><i class="fas fa-arrows-alt-h"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-top flex-center"><i class="fas fa-arrow-up"></i></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li></ul></div></div><aside class="page-aside"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96"><span class="nav-text">1. 特征提取</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E4%BB%8E%E6%97%B6%E9%97%B4%E4%B8%AD%E6%8F%90%E5%8F%96%E7%89%B9%E5%BE%81"><span class="nav-text">1.1 从时间中提取特征</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E4%BB%8E%E6%97%B6%E5%BA%8F%E8%A7%84%E5%BE%8B%E4%B8%AD%E6%8F%90%E5%8F%96%E7%89%B9%E5%BE%81"><span class="nav-text">1.2 从时序规律中提取特征</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E4%BB%8E%E7%BB%9F%E8%AE%A1%E7%AA%97%E5%8F%A3%E6%8F%90%E5%8F%96%E7%89%B9%E5%BE%81"><span class="nav-text">1.3 从统计窗口提取特征</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E7%89%B9%E5%BE%81%E9%A2%84%E5%A4%84%E7%90%86"><span class="nav-text">2. 特征预处理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E7%89%B9%E5%BE%81%E9%99%8D%E7%BB%B4"><span class="nav-text">3. 特征降维</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-Tsfresh%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96%E5%B7%A5%E5%85%B7"><span class="nav-text">4. Tsfresh特征提取工具</span></a></li></ol></div></div></aside><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script><div class="post-scripts pjax"><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script></div><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.refresh()})})</script></body></html>